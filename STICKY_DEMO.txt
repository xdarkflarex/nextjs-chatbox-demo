╔═══════════════════════════════════════════════════════════════════════════════╗
║                    DEMO: STICKY CHAT WIDGET                                  ║
║                  (Chat dính khi scroll xuống)                                 ║
╚═══════════════════════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════════════════════
                          TRƯỚC KHI SỬA (Không Sticky)
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                           VỊ TRÍ BAN ĐẦU                                    │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────────┐  ┌──────────────────────────────────────────┐
  │                      │  │  ╔════════════════════════════════════╗  │
  │    ╭─────────╮       │  │  ║   🤖 Trợ lý học đường              ║  │
  │   │  LOGO   │       │  │  ╠════════════════════════════════════╣  │
  │   │  THCS   │       │  │  ║  [Chọn vai trò]                    ║  │
  │    ╰─────────╯       │  │  ║  💬 Chat messages...               ║  │
  │  THCS Nguyễn Huệ     │  │  ║                                    ║  │
  └──────────────────────┘  │  ╚════════════════════════════════════╝  │
                             └──────────────────────────────────────────┘
  ┌──────────────────────┐
  │ 💡 Trợ lý AI         │
  │ • Tư vấn học tập     │
  └──────────────────────┘
                                        ↓ SCROLL XUỐNG
  ┌──────────────────────┐
  │ 🔒 Admin Login       │
  └──────────────────────┘

  ┌──────────────────────┐
  │ ℹ️ Lưu ý             │
  └──────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                      SAU KHI SCROLL XUỐNG                                   │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────────┐  
  │ 💡 Trợ lý AI         │  ← Đang xem phần này
  │ • Tư vấn học tập     │
  └──────────────────────┘
                             ❌ CHAT BỊ CUỐN LÊN! (Không thấy nữa)
  ┌──────────────────────┐     Phải scroll lên mới chat được
  │ 🔒 Admin Login       │
  └──────────────────────┘

  ┌──────────────────────┐
  │ ℹ️ Lưu ý             │
  └──────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                           SAU KHI SỬA (Có Sticky)
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                           VỊ TRÍ BAN ĐẦU                                    │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────────┐  ┌──────────────────────────────────────────┐
  │                      │  │  ╔════════════════════════════════════╗  │
  │    ╭─────────╮       │  │  ║   🤖 Trợ lý học đường              ║  │
  │   │  LOGO   │       │  │  ╠════════════════════════════════════╣  │
  │   │  THCS   │       │  │  ║  [Chọn vai trò]                    ║  │
  │    ╰─────────╯       │  │  ║  💬 Chat messages...               ║  │
  │  THCS Nguyễn Huệ     │  │  ║                                    ║  │
  └──────────────────────┘  │  ╚════════════════════════════════════╝  │
                             └──────────────────────────────────────────┘
  ┌──────────────────────┐      ↑ Chat ở vị trí bình thường
  │ 💡 Trợ lý AI         │
  │ • Tư vấn học tập     │
  └──────────────────────┘
                                        ↓ SCROLL XUỐNG
  ┌──────────────────────┐
  │ 🔒 Admin Login       │
  └──────────────────────┘

  ┌──────────────────────┐
  │ ℹ️ Lưu ý             │
  └──────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                      SAU KHI SCROLL XUỐNG                                   │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────────────┐  ┌──────────────────────────────────────────┐
  │ 💡 Trợ lý AI         │  │  ╔════════════════════════════════════╗  │
  │ • Tư vấn học tập     │  │  ║   🤖 Trợ lý học đường              ║  │
  └──────────────────────┘  │  ╠════════════════════════════════════╣  │
                             │  ║  [Chọn vai trò]                    ║  │
  ┌──────────────────────┐  │  ║  💬 Chat messages...               ║  │
  │ 🔒 Admin Login       │  │  ║                                    ║  │
  └──────────────────────┘  │  ╚════════════════════════════════════╝  │
                             └──────────────────────────────────────────┘
  ┌──────────────────────┐      ↑ ✅ CHAT VẪN Ở ĐÂY! (Sticky)
  │ ℹ️ Lưu ý             │         Có thể chat trong khi xem thông tin
  └──────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                              CÁCH HOẠT ĐỘNG
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│  BƯỚC 1: Vị trí ban đầu                                                     │
│  ┌─────────┐  ┌─────────┐                                                  │
│  │ Thông   │  │  Chat   │  ← Chat ở vị trí bình thường                     │
│  │ tin     │  │ Widget  │                                                   │
│  └─────────┘  └─────────┘                                                  │
│                                                                             │
│  BƯỚC 2: Bắt đầu scroll xuống                                              │
│  ┌─────────┐  ┌─────────┐                                                  │
│  │ Thông   │  │  Chat   │  ← Chat bắt đầu "dính" lại                      │
│  │ tin     │  │ Widget  │                                                   │
│  │         │  └─────────┘                                                  │
│  └─────────┘      ↑ Sticky position activated!                            │
│                                                                             │
│  BƯỚC 3: Scroll xuống nhiều                                                │
│  ┌─────────┐  ┌─────────┐                                                  │
│  │ Thông   │  │  Chat   │  ← Chat vẫn ở đây!                              │
│  │ tin     │  │ Widget  │     Cách top 1rem                                │
│  │ (tiếp)  │  └─────────┘                                                  │
│  │         │                                                                │
│  └─────────┘                                                               │
│                                                                             │
│  BƯỚC 4: Scroll lên lại                                                    │
│  ┌─────────┐  ┌─────────┐                                                  │
│  │ Thông   │  │  Chat   │  ← Chat trở về vị trí ban đầu                   │
│  │ tin     │  │ Widget  │                                                   │
│  └─────────┘  └─────────┘                                                  │
└─────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
                          USE CASE - TÌNH HUỐNG SỬ DỤNG
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│  TÌNH HUỐNG: Học sinh muốn xem thông tin liên hệ và chat cùng lúc          │
└─────────────────────────────────────────────────────────────────────────────┘

  TRƯỚC (Không Sticky):
  ────────────────────────────────────────────────────────────────────────
  1. Học sinh mở trang → Thấy chat ở trên
  2. Scroll xuống xem "Lưu ý quan trọng" → Chat biến mất
  3. Muốn hỏi AI → Phải scroll lên lại
  4. Chat xong → Scroll xuống xem tiếp
  5. Lại muốn hỏi → Lại phải scroll lên
  
  ❌ Phiền phức, mất thời gian!


  SAU (Có Sticky):
  ────────────────────────────────────────────────────────────────────────
  1. Học sinh mở trang → Thấy chat ở trên
  2. Scroll xuống xem "Lưu ý quan trọng" → Chat vẫn ở đó!
  3. Vừa đọc thông tin, vừa chat luôn
  4. Không cần scroll lên xuống
  
  ✅ Tiện lợi, nhanh chóng!

═══════════════════════════════════════════════════════════════════════════════
                              RESPONSIVE BEHAVIOR
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│  DESKTOP (≥1024px): Sticky ENABLED                                          │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌──────────────┬────────────────┐
  │              │                │
  │   Thông tin  │  Chat (Sticky) │ ← Chat dính khi scroll
  │              │                │
  │   [Scroll]   │  [Fixed]       │
  │              │                │
  └──────────────┴────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│  MOBILE (<1024px): Sticky DISABLED                                          │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌────────────────┐
  │   Thông tin    │
  │                │
  │   [Scroll]     │
  ├────────────────┤
  │   Chat         │ ← Không sticky (bình thường)
  │                │
  │   [Scroll]     │
  └────────────────┘

  Lý do: Màn hình nhỏ, sticky sẽ che mất nội dung

═══════════════════════════════════════════════════════════════════════════════
                              KỸ THUẬT SỬ DỤNG
═══════════════════════════════════════════════════════════════════════════════

  CSS Classes được thêm:
  ─────────────────────────────────────────────────────────────────────────

  lg:sticky              → position: sticky (chỉ trên desktop)
  lg:top-4               → top: 1rem (cách top 1rem khi sticky)
  lg:max-h-[calc(...)]   → max-height: calc(100vh - 2rem)
  lg:overflow-y-auto     → overflow-y: auto (scroll nếu dài)


  Giải thích:
  ─────────────────────────────────────────────────────────────────────────

  1. lg:sticky
     - Chỉ áp dụng khi màn hình ≥1024px
     - Element "dính" lại khi scroll đến vị trí

  2. lg:top-4
     - Khi sticky, cách top 1rem (16px)
     - Không dính sát mép trên

  3. lg:max-h-[calc(100vh-2rem)]
     - Chiều cao tối đa = viewport height - 2rem
     - Đảm bảo không vượt quá màn hình

  4. lg:overflow-y-auto
     - Nếu chat dài, có scroll bar riêng
     - Không làm tràn ra ngoài

═══════════════════════════════════════════════════════════════════════════════
                              TEST CHECKLIST
═══════════════════════════════════════════════════════════════════════════════

  Desktop (≥1024px):
  ─────────────────────────────────────────────────────────────────────────
  [ ] Mở trang → Chat ở vị trí bình thường
  [ ] Scroll xuống → Chat "dính" lại ở top
  [ ] Tiếp tục scroll → Chat vẫn ở đó
  [ ] Chat vẫn hoạt động bình thường
  [ ] Scroll lên → Chat trở về vị trí ban đầu
  [ ] Không bị lag, mượt mà


  Mobile (<1024px):
  ─────────────────────────────────────────────────────────────────────────
  [ ] Layout 1 cột dọc
  [ ] Chat không sticky (scroll bình thường)
  [ ] Không bị che nội dung
  [ ] Hoạt động như trước


  Edge Cases:
  ─────────────────────────────────────────────────────────────────────────
  [ ] Resize window → Sticky bật/tắt đúng
  [ ] Chat dài → Có scroll bar riêng
  [ ] Nhiều messages → Không bị tràn
  [ ] Zoom in/out → Vẫn hoạt động

═══════════════════════════════════════════════════════════════════════════════

                              🎉 KẾT QUẢ

  ✅ Chat widget dính khi scroll (Desktop)
  ✅ Có thể chat trong khi xem thông tin
  ✅ Không cần scroll lên xuống
  ✅ UX được cải thiện đáng kể
  ✅ Responsive vẫn hoạt động tốt

═══════════════════════════════════════════════════════════════════════════════
